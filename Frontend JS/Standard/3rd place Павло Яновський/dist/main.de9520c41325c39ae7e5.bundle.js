!function(r){function t(t){for(var i,a,s=t[0],d=t[1],l=t[2],h=0,u=[];h<s.length;h++)o[a=s[h]]&&u.push(o[a][0]),o[a]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(r[i]=d[i]);for(c&&c(t);u.length;)u.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var r,t=0;t<n.length;t++){for(var e=n[t],i=!0,s=1;s<e.length;s++)0!==o[e[s]]&&(i=!1);i&&(n.splice(t--,1),r=a(a.s=e[0]))}return r}var i={},o={1:0},n=[];function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=r,a.c=i,a.d=function(r,t,e){a.o(r,t)||Object.defineProperty(r,t,{enumerable:!0,get:e})},a.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,t){if(1&t&&(r=a(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var i in r)a.d(e,i,function(t){return r[t]}.bind(null,i));return e},a.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(t,"a",t),t},a.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;n.push(["iTwO",2]),e()}({0:function(r,t){},1:function(r,t){},PGGC:function(r,t,e){},iTwO:function(r,t,e){"use strict";e.r(t);var i=e("ToYH"),o=e("CcnG"),n=e("ZYjt");Object(o.enableProdMode)();var a={production:!0,showDevModule:!1,decorateModuleRef:function(r){return Object(n.disableDebugTools)(),r},ENV_PROVIDERS:[]},s=e("mrSG"),d=e("gIcY"),l=e("t/Na"),c=e("wFw1"),h=e("/isH"),u=function(){function r(){this._state={}}return Object.defineProperty(r.prototype,"state",{get:function(){return this._state=this._clone(this._state)},set:function(r){throw new Error("do not mutate the `.state` directly")},enumerable:!0,configurable:!0}),r.prototype.get=function(r){var t=this.state;return t.hasOwnProperty(r)?t[r]:t},r.prototype.set=function(r,t){return this._state[r]=t},r.prototype._clone=function(r){return JSON.parse(JSON.stringify(r))},s.b([Object(o.Injectable)()],r)}(),f=(e("EVdn"),e("W1Kk"),function(){function r(r){this.appState=r,this.wordsLibrary=[{question:"1",answer:"one"},{question:"2",answer:"two"},{question:"3",answer:"three"},{question:"4",answer:"four"},{question:"5",answer:"five"},{question:"6",answer:"six"},{question:"7",answer:"seven"},{question:"8",answer:"eight"},{question:"9",answer:"nine"},{question:"10",answer:"ten"}],this.sortedLibrary=[],this.cwSizeX=50,this.cwSizeY=50,this.cellSize=20,this.wordBank=[],this.wordsActive=[],this.mainWordBoardLibrary=[]}return r.prototype.createGrid=function(){var r=document.getElementById("my-canvas"),t=r.getContext("2d");r.width=this.cwSizeX*this.cellSize,r.height=this.cwSizeY*this.cellSize,t.beginPath(),t.fillStyle="white",t.lineWidth=1,t.strokeStyle="black";for(var e=0;e<this.cwSizeX;e++)for(var i=0;i<this.cwSizeY;i++)t.rect(i*this.cellSize,e*this.cellSize,this.cellSize,this.cellSize),t.fill(),t.stroke();t.closePath()},r.prototype.prepareWordBoardLibrary=function(){this.wordBank=[];for(var r=0;r<this.sortedLibrary.length;r++)this.wordBank.push({string:this.sortedLibrary[r].answer,char:this.sortedLibrary[r].answer.split(""),totalMatches:0,effectiveMatches:0,successfulMatches:[]});for(r=0;r<this.wordBank.length;r++)for(var t=0,e=this.wordBank[r];t<e.char.length;t++)for(var i=0,o=e.char[t];i<this.wordBank.length;i++)for(var n=0,a=this.wordBank[i];i!==r&&n<a.char.length;n++)e.totalMatches+=o===a.char[n]?1:0},r.prototype.addWordsToMainWordBoardLibrary=function(){var r,t,e,i,o;if(this.wordsActive.length<1){r=0;for(var n=0;n<this.wordBank.length;n++)this.wordBank[n].totalMatches<this.wordBank[r].totalMatches&&(r=n);console.log("test current wordBank item",this.wordBank[r]),this.wordBank[r].successfulMatches=[],this.wordBank[r].successfulMatches.push({x:12,y:20,dir:0})}else for(console.log("test addWordsToMainWordBoardLibrary"),r=-1,n=0;n<this.wordBank.length;n++){(t=this.wordBank[n]).effectiveMatches=0,t.successfulMatches=[];for(var a=0;a<t.char.length;a++){e=t.char[a];for(var s=0;s<this.wordsActive.length;s++){i=this.wordsActive[s];for(var d=0;d<i.char.length;d++)if(e===i.char[d]){t.effectiveMatches++;var l={x:i.x,y:i.y,dir:0};0===i.dir?(l.dir=1,l.x+=d,l.y-=a):(l.dir=0,l.y+=d,l.x-=a);for(var c=!0,h=-1;h<t.char.length+1;h++){var u=[];if(h!==a){if(0===l.dir){if((v=l.x+h)<0||v>this.mainWordBoardLibrary.length){c=!1;break}u.push(this.mainWordBoardLibrary[v][l.y]),u.push(this.mainWordBoardLibrary[v][l.y+1]),u.push(this.mainWordBoardLibrary[v][l.y-1])}else{if((g=l.y+h)<0||g>this.mainWordBoardLibrary[l.x].length){c=!1;break}u.push(this.mainWordBoardLibrary[l.x][g]),u.push(this.mainWordBoardLibrary[l.x+1][g]),u.push(this.mainWordBoardLibrary[l.x-1][g])}if(h>-1&&h<t.char.length-1){if(u[0]!==t.char[h]){if(null!==u[0]){c=!1;break}if(null!==u[1]){c=!1;break}if(null!==u[2]){c=!1;break}}}else if(null!==u[0]){c=!1;break}}}!0===c&&t.successfulMatches.push(l)}}}if((o=t.totalMatches-t.effectiveMatches)<9999&&t.successfulMatches.length>0)o=9999,r=n;else if(o<=0)return!1}if(-1===r)return!1;var f=this.wordBank.splice(r,1);this.wordsActive.push(f[0]),console.log("test wordsActive",this.wordsActive);var p=this.wordsActive.length-1,y=Math.random(),b=this.wordsActive[p].successfulMatches,w=b[Math.floor(y*b.length)];for(this.wordsActive[p].x=w.x,this.wordsActive[p].y=w.y,this.wordsActive[p].dir=w.dir,n=0;n<this.wordsActive[p].char.length;n++){var v=w.x,g=w.y;0===w.dir?this.mainWordBoardLibrary[v+=n][g]=this.wordsActive[p].char[n]:this.mainWordBoardLibrary[v][g+=n]=this.wordsActive[p].char[n]}return!0},r.prototype.generateCrossWord=function(){console.log("test wordsLibray",this.wordsLibrary),this.sortedLibrary=JSON.parse(JSON.stringify(this.wordsLibrary)),this.sortedLibrary.sort(function(r,t){return r.answer>t.answer?1:t.answer>r.answer?-1:0}),console.log("test sortedLibrary",this.sortedLibrary)},r.prototype.rebuildHelper=function(){for(var r=0;r<this.wordBank.length;r++)this.addWordsToMainWordBoardLibrary()},r.prototype.rebuildCW=function(){console.log("test rebuild"),this.mainWordBoardLibrary=[],this.wordsActive=[];for(var r=0;r<this.cwSizeX;r++){this.mainWordBoardLibrary.push([]);for(var t=0;t<this.cwSizeX;t++)this.mainWordBoardLibrary[r].push(null)}for(this.generateCrossWord(),this.prepareWordBoardLibrary(),console.log("test wordBank",this.wordBank),this.rebuildHelper(),console.log("test mainWordBoardLibrary",this.mainWordBoardLibrary),r=0;r<this.mainWordBoardLibrary.length;r++){for(var e=!0,i=0;i<this.mainWordBoardLibrary[r].length;i++)null!==this.mainWordBoardLibrary[r][i]&&(e=!1);e&&(this.mainWordBoardLibrary.splice(r,1),r--)}this.cwSizeX=this.mainWordBoardLibrary.length,this.cwSizeY=this.mainWordBoardLibrary[0].length,this.createGrid();var o=document.getElementById("my-canvas").getContext("2d");for(r=0;r<this.mainWordBoardLibrary.length;r++)for(var n=0;n<this.mainWordBoardLibrary[r].length;n++)null!==this.mainWordBoardLibrary[r][n]?(o.beginPath(),o.fillStyle="white",o.lineWidth=1,o.strokeStyle="black",o.rect(Math.floor(r)*this.cellSize,Math.floor(n)*this.cellSize,this.cellSize,this.cellSize),o.fill(),o.stroke(),o.closePath(),o.font="12px Verdana",o.fillStyle="black",o.fillText(this.mainWordBoardLibrary[r][n],Math.floor(r)*this.cellSize+7,Math.floor(n)*this.cellSize+14,this.cellSize)):(o.fillStyle="black",o.fillRect(Math.floor(r)*this.cellSize,Math.floor(n)*this.cellSize,this.cellSize,this.cellSize))},r.prototype.ngOnInit=function(){this.rebuildCW()},s.b([Object(o.Component)({selector:"app",encapsulation:o.ViewEncapsulation.None,styles:[e("ynWL"),e("8jWO"),e("SDvI"),e("1WHL")],template:e("nH/3"),providers:[]}),s.d("design:paramtypes",[u])],r)}()),p=e("F/XL"),y=[function(){function r(){}return r.prototype.resolve=function(r,t){return Object(p.a)({res:"I am data"})},s.b([Object(o.Injectable)()],r)}()],b=(e("yLV6"),e("SMsm")),w=e("UodH"),v=e("Z+uX"),g=e("mVsa"),m=e("Nsh5"),B=e("uGex"),L=e("b716"),S=e("kWGw"),M=e("LC5p"),W=(e("PGGC"),e("il4D"),y.concat([u])),x=function(){function r(){}return s.b([Object(o.NgModule)({bootstrap:[f],declarations:[f],imports:[h.DevExtremeModule,n.BrowserModule,c.b,d.FormsModule,l.HttpClientModule,b.a,w.a,v.a,g.a,m.a,B.a,L.a,S.a,M.a],providers:[a.ENV_PROVIDERS,W]})],r)}();function k(){return Object(i.a)().bootstrapModule(x).then(a.decorateModuleRef).catch(function(r){return console.error(r)})}switch(e.d(t,"main",function(){return k}),document.readyState){case"loading":document.addEventListener("DOMContentLoaded",function r(){document.removeEventListener("DOMContentLoaded",r,!1),k()},!1);break;case"interactive":case"complete":default:k()}},il4D:function(r,t,e){},mpQR:function(r,t,e){(r.exports=e("I1BE")(!1)).push([r.i,"body {\n  margin: 0;\n  padding: 0; }\n",""])},"nH/3":function(r,t){r.exports='<div>DevChallenge 1101 - Final</div>\r\n\r\n\x3c!-- \u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043f\u0438\u0442\u0430\u0442\u044c \u0437 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044e \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f (\u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f DevExtreme) --\x3e\r\n<dx-data-grid\r\n    id=\'wordsLibraryDataGrid\'\r\n    #wordsLibraryDataGrid\r\n    columnResizingMode="widget"\r\n    [rowAlternationEnabled]="true"\r\n    [dataSource]=\'wordsLibrary\'\r\n    [showBorders]=\'true\'\r\n    [allowColumnResizing]=\'true\'\r\n    noDataText="\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"\r\n    height=\'300\'\r\n    >\r\n    <dxo-pager\r\n        [visible] = "true"\r\n        [showPageSizeSelector]="true"\r\n        [allowedPageSizes]="[10, 20, 50]"\r\n        [showNavigationButtons]="true">\r\n    </dxo-pager>\r\n    <dxo-editing\r\n    [allowDeleting]="true"\r\n    [allowAdding]="true"\r\n    [allowUpdating]="true"\r\n    [texts]="{addRow:\'\u0414\u043e\u0434\u0430\u0442\u0438\', editRow:\'\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438\', deleteRow:\'\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438\', confirmDeleteMessage:\'\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f?\'}">\r\n    </dxo-editing>\r\n</dx-data-grid>\r\n\r\n<div>\r\n    <button mat-raised-button color="primary" (click)="rebuildCW()">\u041f\u0435\u0440\u0435\u0431\u0443\u0434\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u043e\u0441\u0441\u0432\u043e\u0440\u0434</button>\r\n</div>\r\n\r\n\x3c!-- \u043c\u0456\u0441\u0446\u0435 \u0434\u043b\u044f \u043a\u0440\u043e\u0441\u0441\u0432\u043e\u0440\u0434\u0443 --\x3e\r\n<div style=\'display: flex; justify-content: center;\'>\r\n    <canvas id="my-canvas" width="300px" height="300px"></canvas>\r\n</div>'},ynWL:function(r,t,e){var i=e("mpQR");r.exports="string"==typeof i?i:i.toString()},zn8P:function(r,t){function e(r){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t})}e.keys=function(){return[]},e.resolve=e,r.exports=e,e.id="zn8P"}});